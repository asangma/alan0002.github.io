<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1,maximum-scale=1,user-scalable=no">
  <title>SART Trail Work</title>
  <link rel="stylesheet" href="https://js.arcgis.com/4.3/esri/css/main.css">
  <script src="https://js.arcgis.com/4.3/"></script>
  <script>
  require([
    "esri/views/MapView",
    "esri/WebMap",
    "esri/widgets/Compass",
    "esri/widgets/Legend",
    "esri/widgets/Expand",
    "dojo/domReady!"
  ], function(
    MapView, WebMap,
    Compass, Legend, Expand
  ) {

    var map = new WebMap({
      portalItem: { // autocasts as new PortalItem()
        // id: "3a9976baef9240ab8645ee25c7e9c096"
        // id: "02c56dc9eea142cbbaf167d8974fa91c"
        // id: "7192c91833c94fccaeb17bdfd54f4e31"
        id: "3d2d54781e7a4cf7af592720d2485741"
      }
    });

    var view = new MapView({
      map: map,
      container: "viewDiv",
      // padding: {
      //   top: 40
      // }
    });

    var compass = new Compass({
      view: view
    });


    view.then(function() {

      var legend = new Legend({
        view: view,
        layerInfos: [{
          layer: map/*,
          title: "Legend"*/
        }]
      });

      // Finalize the creation of the legend widget.
      legend.startup();

      expand = new Expand({
        expandIconClass: "esri-icon-menu",
        expandTooltip: "Expand Legend",
        expanded: false,
        view: view,
        content: legend.domNode
      });

      view.ui.add(expand, 'bottom-right');
      view.ui.add(compass, 'top-left');

      // var popupTemplate = {
      //   title: "{Name}",
      //   content: "Wewt!"
      // };

      // featureLayer.popupTemplate = popupTemplate;
    });
  });
  </script>
  <style>
  html,
  body,
  #viewDiv {
    padding: 0;
    margin: 0;
    height: 100%;
    width: 100%;
  }
  </style>
</head>

<body>
  <div id="viewDiv">
  </div>
</body>

</html>
