{
  "version": 3,
  "sources": [
    "../../../node_modules/simplifyify/node_modules/browserify/node_modules/browser-pack/_prelude.js",
    "../../../comps/_assets/js/update-item.js",
    "../../../node_modules/calcite-web/dist/js/calcite-web.js"
  ],
  "names": [],
  "mappings": "AAAA;;;;;ICAO,OAAO,2BAAM,aAAa;;AAEjC,IAAI,QAAQ,GAAG,QAAQ,CAAC,aAAa,CAAC,aAAa,CAAC,CAAA;AACpD,IAAI,MAAM,GAAG,QAAQ,CAAC,aAAa,CAAC,MAAM,CAAC,CAAA;AAC3C,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,cAAc,CAAC,CAAA;AAClD,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,YAAY,CAAC,CAAA;AAC/C,IAAI,WAAW,GAAG,QAAQ,CAAC,aAAa,CAAC,oBAAoB,CAAC,CAAA;;AAE9D,IAAI,KAAK,GAAG,QAAQ,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAA;AACtD,IAAI,UAAU,GAAG,QAAQ,CAAC,aAAa,CAAC,iBAAiB,CAAC,CAAA;AAC1D,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAA;;AAEvB,IAAI,cAAc,GAAG,wBAAS,CAAC,EAAE;AAC/B,SAAO,CAAC,WAAW,CAAC,MAAM,EAAE,cAAc,CAAC,CAAA;CAC5C,CAAA;;AAED,IAAI,gBAAgB,GAAG,4BAAY;AACjC,SAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,cAAc,CAAC,CAAA;AACxC,WAAS,EAAE,CAAA;CACZ,CAAA;;AAED,IAAI,SAAS,GAAG,qBAAY;AAC1B,SAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,WAAW,CAAC,CAAA;AACpC,QAAM,CAAC,UAAU,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC;CACrC,CAAA;;AAED,IAAI,UAAU,GAAG,sBAAY;AAC3B,SAAO,CAAC,WAAW,CAAC,KAAK,EAAE,WAAW,CAAC,CAAA;CACxC,CAAA;;AAED,OAAO,CAAC,QAAQ,CAAC,KAAK,EAAE,SAAS,EAAE,cAAc,CAAC,CAAA;AAClD,OAAO,CAAC,QAAQ,CAAC,IAAI,EAAE,SAAS,EAAE,cAAc,CAAC,CAAA;AACjD,OAAO,CAAC,QAAQ,CAAC,WAAW,EAAE,SAAS,EAAE,cAAc,CAAC,CAAA;AACxD,OAAO,CAAC,QAAQ,CAAC,MAAM,EAAE,OAAO,CAAC,KAAK,EAAE,EAAE,gBAAgB,CAAC,CAAA;AAC3D,OAAO,CAAC,QAAQ,CAAC,UAAU,EAAE,OAAO,CAAC,KAAK,EAAE,EAAE,UAAU,CAAC,CAAA;;;AClCzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA",
  "file": "generated.js",
  "sourceRoot": "",
  "sourcesContent": [
    "(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})",
    "import calcite from 'calcite-web'\n\nlet settings = document.querySelector('.js-updater')\nlet button = settings.querySelector('.btn')\nlet title = settings.querySelector('.title-input')\nlet tags = settings.querySelector('.tag-input')\nlet description = settings.querySelector('.description-input')\n\nlet alert = document.querySelector('.js-item-updated')\nlet alertClose = document.querySelector('.js-close-alert')\nconsole.log(alertClose)\n\nvar activateButton = function(e) {\n  calcite.removeClass(button, 'btn-disabled')\n}\n\nvar deactivateButton = function () {\n  calcite.addClass(button, 'btn-disabled')\n  fireAlert()\n}\n\nvar fireAlert = function () {\n  calcite.addClass(alert, 'is-active')\n  window.setTimeout(closeAlert, 2000);\n}\n\nvar closeAlert = function () {\n  calcite.removeClass(alert, 'is-active')\n}\n\ncalcite.addEvent(title, 'focusin', activateButton)\ncalcite.addEvent(tags, 'focusin', activateButton)\ncalcite.addEvent(description, 'focusin', activateButton)\ncalcite.addEvent(button, calcite.click(), deactivateButton)\ncalcite.addEvent(alertClose, calcite.click(), closeAlert)",
    "/* calcite-web - v0.14.2 - 2015-10-07\n*  https://github.com/esri/calcite-web\n*  Copyright (c) 2015 Environmental Systems Research Institute, Inc.\n*  Apache 2.0 License */\n(function Calcite () {\n\n  // ┌────────────┐\n  // │ Public API │\n  // └────────────┘\n  // define all public api methods (excluding patterns)\n  var calcite = {\n    version: 'v0.14.1',\n    click: click,\n    addEvent: addEvent,\n    removeEvent: removeEvent,\n    eventTarget: eventTarget,\n    preventDefault: preventDefault,\n    stopPropagation: stopPropagation,\n    hasClass: hasClass,\n    addClass: addClass,\n    removeClass: removeClass,\n    toggleClass: toggleClass,\n    closest: closest,\n    nodeListToArray: nodeListToArray,\n    init: init\n  };\n\n  // ┌──────────────────────┐\n  // │ Polyfills            │\n  // └──────────────────────┘\n\n  // string.includes()\n  if (!String.prototype.includes) {\n    String.prototype.includes = function() {'use strict';\n      return String.prototype.indexOf.apply(this, arguments) !== -1;\n    };\n  }\n\n  // focusin event\n  !function(){\n      var w = window,\n          d = w.document;\n\n      if( w.onfocusin === undefined ){\n          d.addEventListener('focus'    ,addPolyfill    ,true);\n          d.addEventListener('blur'     ,addPolyfill    ,true);\n          d.addEventListener('focusin'  ,removePolyfill ,true);\n          d.addEventListener('focusout' ,removePolyfill ,true);\n      }\n      function addPolyfill(e){\n          var type = e.type === 'focus' ? 'focusin' : 'focusout';\n          var event = new CustomEvent(type, { bubbles:true, cancelable:false });\n          event.c1Generated = true;\n          e.target.dispatchEvent( event );\n      }\n      function removePolyfill(e){\n          if(!e.c1Generated){ // focus after focusin, so chrome will the first time trigger tow times focusin\n              d.removeEventListener('focus'    ,addPolyfill    ,true);\n              d.removeEventListener('blur'     ,addPolyfill    ,true);\n              d.removeEventListener('focusin'  ,removePolyfill ,true);\n              d.removeEventListener('focusout' ,removePolyfill ,true);\n          }\n          setTimeout(function(){\n              d.removeEventListener('focusin'  ,removePolyfill ,true);\n              d.removeEventListener('focusout' ,removePolyfill ,true);\n          });\n      }\n  }();\n\n\n  // ┌──────────────────────┐\n  // │ DOM Event Management │\n  // └──────────────────────┘\n\n  // returns standard interaction event, later will add touch support\n  function click () {\n    return 'click';\n  }\n\n  // add a callback function to an event on a DOM node\n  function addEvent (domNode, e, fn) {\n    if (domNode.addEventListener) {\n      return domNode.addEventListener(e, fn, false);\n    } else if (domNode.attachEvent) {\n      return domNode.attachEvent('on' + e, fn);\n    }\n  }\n\n  // remove a specific function binding from a DOM node event\n  function removeEvent (domNode, e, fn) {\n    if (domNode.removeEventListener) {\n      return domNode.removeEventListener(e, fn, false);\n    } else if (domNode.detachEvent) {\n      return domNode.detachEvent('on' + e,  fn);\n    }\n  }\n\n  // get the target element of an event\n  function eventTarget (e) {\n    return e.target || e.srcElement;\n  }\n\n  // prevent default behavior of an event\n  function preventDefault (e) {\n    if (e.preventDefault) {\n      return e.preventDefault();\n    } else if (e.returnValue) {\n      e.returnValue = false;\n    }\n  }\n\n  // stop and event from bubbling up the DOM tree\n  function stopPropagation (e) {\n    e = e || window.event;\n    if (e.stopPropagation) {\n      return e.stopPropagation();\n    }\n    if (e.cancelBubble) {\n      e.cancelBubble = true;\n    }\n  }\n\n  // ┌────────────────────┐\n  // │ Class Manipulation │\n  // └────────────────────┘\n\n  // check if an element has a specific class\n  function hasClass (domNode, className) {\n    var elementClass = ' ' + domNode.className + ' ';\n    return elementClass.indexOf(' ' + className + ' ') !== -1;\n  }\n\n  // add one or more classes to an element\n  function addClass (domNode, classes) {\n    classes.split(' ').forEach(function (c) {\n      if (!hasClass(domNode, c)) {\n        domNode.className += ' ' + c;\n      }\n    });\n  }\n\n  // remove one or more classes from an element\n  function removeClass (domNode, classes) {\n    var elementClass = ' ' + domNode.className + ' ';\n    classes.split(' ').forEach(function (c) {\n      elementClass = elementClass.replace(' ' + c + ' ', ' ');\n    });\n    domNode.className = elementClass.trim();\n  }\n\n  // if domNode has the class, remove it, else add it\n  function toggleClass (domNode, className) {\n    if (hasClass(domNode, className)) {\n      removeClass(domNode, className);\n    } else {\n      addClass(domNode, className);\n    }\n  }\n\n  // ┌─────┐\n  // │ DOM │\n  // └─────┘\n\n  // returns closest element up the DOM tree matching a given class\n  function closest (className, context) {\n    var result, current;\n    for (current = context; current; current = current.parentNode) {\n      if (current.nodeType === 1 && hasClass(current, className)) {\n        result = current;\n        break;\n      }\n    }\n    return current;\n  }\n\n  // turn a domNodeList into an array\n  function nodeListToArray (domNodeList) {\n    return Array.prototype.slice.call(domNodeList);\n  }\n\n  // ┌─────────────┐\n  // │ JS Patterns │\n  // └─────────────┘\n  // helper functions for ui patterns\n\n  // return an array of elements matching a query\n  function findElements (query, domNode) {\n    var context = domNode || document;\n    var elements = context.querySelectorAll(query);\n    return nodeListToArray(elements);\n  }\n\n  // remove 'is-active' class from every element in an array\n  function removeActive (array) {\n    if (typeof array == 'object') {\n      array = nodeListToArray(array);\n    }\n    array.forEach(function (item) {\n      removeClass(item, 'is-active');\n    });\n  }\n\n  function addActive (array) {\n    if (typeof array == 'object') {\n      array = nodeListToArray(array);\n    }\n    array.forEach(function (item) {\n      addClass(item, 'is-active');\n    });\n  }\n\n\n  // remove 'is-active' from array, add to element\n  function toggleActive (array, el) {\n    var isActive = hasClass(el, 'is-active');\n    if (isActive) {\n      removeClass(el, 'is-active');\n    } else {\n      removeActive(array);\n      addClass(el, 'is-active');\n    }\n  }\n\n  // toggles `aria-hidde=\"true\"` on a domNode\n  function toggleAriaHidden (array) {\n    array.forEach(function (node) {\n      var hidden = node.getAttribute('aria-hidden');\n      if (hidden !== 'true') {\n        node.setAttribute('aria-hidden', true);\n      } else {\n        node.removeAttribute('aria-hidden');\n      }\n    });\n  }\n\n  // ┌───────────┐\n  // │ Accordion │\n  // └───────────┘\n  // collapsible accordion list\n  calcite.accordion = function (domNode) {\n\n    function toggleAriaExpanded(domNode) {\n      var isExpanded = domNode.getAttribute('aria-expanded');\n      if (domNode.getAttribute('aria-expanded')) {\n        domNode.setAttribute('aria-expanded', 'false');\n      } else {\n        domNode.setAttribute('aria-expanded', 'true');\n      }\n    }\n\n    findElements('.js-accordion', domNode).forEach(function (accordion) {\n      accordion.setAttribute('aria-live', 'polite');\n      accordion.setAttribute('role', 'tablist');\n      nodeListToArray(accordion.children).forEach(function (child) {\n        var firstChild = child.children[0];\n        firstChild.setAttribute('role', 'tab');\n        firstChild.setAttribute('tabindex', '0');\n        if (hasClass(child, 'is-active')) {\n          child.setAttribute('aria-expanded', 'true');\n        } else {\n          child.setAttribute('aria-expanded', 'false');\n        }\n        var sectionTitle = child.querySelector('.accordion-title');\n        addEvent(sectionTitle, click(), toggleAccordion);\n        addEvent(child, 'keyup', function(e) {\n          if (e.keyCode === 13) {\n            toggleAccordion(e);\n          }\n        });\n      });\n    });\n\n    function toggleAccordion (e) {\n      var parent = closest('accordion-section', eventTarget(e));\n      toggleClass(parent, 'is-active');\n      toggleAriaExpanded(parent);\n    }\n  };\n\n  // ┌──────────┐\n  // │ Dropdown │\n  // └──────────┘\n  // show and hide dropdown menus\n  calcite.dropdown = function (domNode) {\n    var toggles = findElements('.js-dropdown-toggle', domNode);\n    var dropdowns = findElements('.js-dropdown', domNode);\n\n    function closeAllDropdowns () {\n      removeEvent(document.body, click(), closeAllDropdowns);\n      dropdowns.forEach(function (dropdown) {\n        removeClass(dropdown, 'is-active');\n      });\n    }\n\n    function bindToggle (toggle) {\n      addEvent(toggle, click(), function (e) {\n        preventDefault(e);\n        stopPropagation(e);\n        var dropdown = closest('js-dropdown', toggle);\n        var isOpen = hasClass(dropdown, 'is-active');\n        closeAllDropdowns();\n        if (!isOpen) {\n          addClass(dropdown, 'is-active');\n        }\n        addEvent(document.body, click(), closeAllDropdowns);\n      });\n    }\n\n    toggles.forEach(bindToggle);\n  };\n\n  // ┌────────┐\n  // │ Drawer │\n  // └────────┘\n  // show and hide drawers\n  calcite.drawer = function (domNode) {\n    var wrapper = document.querySelector('.wrapper');\n    var footer = document.querySelector('.footer');\n    var toggles = findElements('.js-drawer-toggle', domNode);\n    var drawers = findElements('.js-drawer', domNode);\n    var lastOn;\n\n    function fenceDrawer (e) {\n      if ( !closest('js-drawer', e.target)) {\n        drawers.forEach(function (drawer) {\n          if (hasClass(drawer, 'is-active')) {\n            drawer.focus();\n          }\n        });\n      }\n    }\n\n    function escapeCloseDrawer (e) {\n      if (e.keyCode === 27) {\n        drawers.forEach(function (drawer) {\n          removeClass(drawer, 'is-active');\n          drawer.removeAttribute('tabindex');\n        });\n        toggleAriaHidden([wrapper, footer]);\n        removeEvent(document, 'keyup', escapeCloseDrawer);\n        removeEvent(document, 'focusin', fenceDrawer);\n        lastOn.focus();\n      }\n    }\n\n    function bindDrawerToggle (e) {\n      preventDefault(e);\n      var toggle = e.target;\n      var drawerId = toggle.getAttribute('data-drawer');\n      var drawer = document.querySelector('.js-drawer[data-drawer=\"' + drawerId + '\"]');\n      var isOpen = hasClass(drawer, 'is-active');\n\n      toggleActive(drawers, drawer);\n      toggleAriaHidden([wrapper, footer]);\n\n      if (isOpen) {\n        removeEvent(document, 'keyup', escapeCloseDrawer);\n        removeEvent(document, 'focusin', fenceDrawer);\n        lastOn.focus();\n        drawer.removeAttribute('tabindex');\n      } else {\n        addEvent(document, 'keyup', escapeCloseDrawer);\n        addEvent(document, 'focusin', fenceDrawer);\n\n        lastOn = toggle;\n        drawer.setAttribute('tabindex', 0);\n        drawer.focus();\n      }\n    }\n\n    toggles.forEach(function (toggle) {\n      addEvent(toggle, click(), bindDrawerToggle);\n    });\n\n    drawers.forEach(function (drawer) {\n      addEvent(drawer, click(), function (e) {\n        if (hasClass(eventTarget(e), 'drawer')) {\n          toggleActive(drawers, drawer);\n          toggleAriaHidden([wrapper, footer]);\n          removeEvent(document, 'keyup', escapeCloseDrawer);\n        }\n      });\n    });\n  };\n\n  // ┌───────────────┐\n  // │ Expanding Nav │\n  // └───────────────┘\n  // show and hide exanding nav located under topnav\n  calcite.expandingNav = function (domNode) {\n    var toggles = findElements('.js-expand-toggle', domNode);\n    var sections = document.querySelectorAll('.js-expand');\n\n    toggles.forEach(function (toggle) {\n      addEvent(toggle, click(), function (e) {\n        preventDefault(e);\n\n        var sectionId = toggle.getAttribute('data-expand');\n        var section = document.querySelector('.js-expand[data-expand=\"' + sectionId + '\"]');\n        var isOpen = hasClass(section, 'is-active');\n        var shouldClose = hasClass(section, 'is-active');\n\n        toggleActive(sections, section);\n\n        if (isOpen && shouldClose) {\n          removeClass(section, 'is-active');\n        } else {\n          addClass(section, 'is-active');\n        }\n      });\n    });\n  };\n\n  // ┌───────┐\n  // │ Modal │\n  // └───────┘\n  // show and hide modal dialogues\n  calcite.modal = function (domNode) {\n    var wrapper = document.querySelector('.wrapper');\n    var footer = document.querySelector('.footer');\n    var toggles = findElements('.js-modal-toggle', domNode);\n    var modals = findElements('.js-modal', domNode);\n    var lastOn;\n\n    function fenceModal (e) {\n      if ( !closest('js-modal', e.target)) {\n        modals.forEach(function (modal) {\n          if (hasClass(modal, 'is-active')) {\n            modal.focus();\n          }\n        });\n      }\n    }\n\n    function escapeCloseModal (e) {\n      if (e.keyCode === 27) {\n        modals.forEach(function (modal) {\n          removeClass(modal, 'is-active');\n          modal.removeAttribute('tabindex');\n        });\n        lastOn.focus();\n        toggleAriaHidden([wrapper, footer]);\n        removeEvent(document, 'keyup', escapeCloseModal);\n        removeEvent(document, 'focusin', fenceModal);\n      }\n    }\n\n    function bindModalToggle (e) {\n      preventDefault(e);\n      var toggle = e.target;\n      var modal;\n      var modalId = toggle.getAttribute('data-modal');\n      if (modalId) {\n        modal = document.querySelector('.js-modal[data-modal=\"' + modalId + '\"]');\n      } else {\n        modal = closest('js-modal', toggle);\n      }\n\n      var isOpen = hasClass(modal, 'is-active');\n      toggleActive(modals, modal);\n      toggleAriaHidden([wrapper, footer]);\n\n      if (isOpen) {\n        removeEvent(document, 'keyup', escapeCloseModal);\n        removeEvent(document, 'focusin', fenceModal);\n        lastOn.focus();\n        modal.removeAttribute('tabindex');\n      } else {\n        addEvent(document, 'keyup', escapeCloseModal);\n        addEvent(document, 'focusin', fenceModal);\n        lastOn = toggle;\n        modal.setAttribute('tabindex', 0);\n        modal.focus();\n      }\n    }\n\n    toggles.forEach(function (toggle) {\n      addEvent(toggle, click(), bindModalToggle);\n    });\n\n    modals.forEach(function (modal) {\n      addEvent(modal, click(), function (e) {\n        if (eventTarget(e) === modal) {\n          toggleActive(modals, modal);\n          toggleAriaHidden([wrapper, footer]);\n          removeEvent(document, 'keyup', escapeCloseModal);\n        }\n      });\n    });\n  };\n\n  // ┌──────┐\n  // │ Tabs │\n  // └──────┘\n  // tabbed content pane\n  calcite.tabs = function (domNode) {\n    var tabs = findElements('.js-tab', domNode);\n    var tabGroups = findElements('.js-tab-group', domNode);\n    var tabSections = findElements('.js-tab-section', domNode);\n\n    // set max width for each tab\n    tabGroups.forEach(function (tab) {\n      tab.setAttribute('aria-live', 'polite');\n      tab.children[0].setAttribute('role', 'tablist');\n      var tabsInGroup = tab.querySelectorAll('.js-tab');\n      var percent = 100 / tabsInGroup.length;\n      for (var i = 0; i < tabsInGroup.length; i++) {\n        tabsInGroup[i].style.maxWidth = percent + '%';\n      }\n    });\n\n    function switchTab (e) {\n      preventDefault(e);\n\n      var tab = closest('js-tab', eventTarget(e));\n      var tabGroup = closest('js-tab-group', tab);\n      var tabs = tabGroup.querySelectorAll('.js-tab');\n      var contents = tabGroup.querySelectorAll('.js-tab-section');\n      var index = nodeListToArray(tabs).indexOf(tab);\n\n      removeActive(tabs);\n      removeActive(contents);\n\n      nodeListToArray(tabs).forEach(function (t){\n        t.setAttribute('aria-expanded', false);\n      });\n\n      nodeListToArray(contents).forEach(function (c){\n        c.setAttribute('aria-expanded', false);\n      });\n\n      addClass(tab, 'is-active');\n      addClass(contents[index], 'is-active');\n\n      tab.setAttribute('aria-expanded', 'true');\n      contents[index].setAttribute('aria-expanded', 'true');\n    }\n\n    tabs.forEach(function (tab) {\n      tab.setAttribute('aria-expanded', 'false');\n      tab.setAttribute('role', 'tab');\n      addEvent(tab, click(), switchTab);\n      addEvent(tab, 'keyup', function(e) {\n        if (e.keyCode === 13) {\n          switchTab(e);\n        }\n      });\n      tab.setAttribute('tabindex', '0');\n    });\n\n    tabSections.forEach(function (section) {\n      section.setAttribute('role', 'tabpanel');\n      var isOpen = hasClass(section, 'is-active');\n      if (isOpen) {\n        section.setAttribute('aria-expanded', 'true');\n      } else {\n        section.setAttribute('aria-expanded', 'false');\n      }\n    });\n  };\n\n\n  // ┌─────────────┐\n  // │ Site Search │\n  // └─────────────┘\n  // Expanding search bar that lives in the top nav.\n  calcite.siteSearch = function (domNode) {\n    var searchForms = findElements('.js-site-search', domNode);\n\n    function toggleForm (e) {\n      var searchContainer = closest('js-site-search', e.target);\n      var isOpen = hasClass(searchContainer, 'is-active');\n\n      if (isOpen) {\n        removeClass(searchContainer, 'is-active');\n        e.target.value = '';\n      } else {\n        addClass(searchContainer, 'is-active');\n      }\n    }\n\n    searchForms.forEach(function (search) {\n      addEvent(search, 'focusin', toggleForm);\n      addEvent(search, 'focusout', toggleForm);\n    });\n  };\n\n\n  // ┌────────┐\n  // │ Sticky │\n  // └────────┘\n  // sticks things to the window\n  calcite.sticky = function (domNode) {\n    var elements = findElements('.js-sticky', domNode);\n\n    var stickies = elements.map(function (el) {\n      var offset = el.offsetTop;\n      var dataTop = el.getAttribute('data-top') || 0;\n      el.style.top = dataTop + 'px';\n      var parent = el.parentNode;\n      var shim = el.cloneNode('deep');\n      shim.style.visibility = 'hidden';\n      shim.style.display = 'none';\n      parent.insertBefore(shim, el);\n\n      return {\n        top: offset - parseInt(dataTop, 0),\n        shim: shim,\n        element: el\n      };\n    });\n\n    function resize () {\n      stickies.forEach(function (item) {\n        var referenceElement = item.element;\n        if (hasClass(item.element, 'is-sticky')) {\n          referenceElement = item.shim;\n        }\n        var dataTop = referenceElement.getAttribute('data-top') || 0;\n        item.top = referenceElement.offsetTop - parseInt(dataTop, 0);\n      });\n      scrollHandler();\n    }\n\n    var scrollHandler = function () {\n      stickies.forEach(function (item) {\n        if (item.top < window.pageYOffset) {\n          addClass(item.element, 'is-sticky');\n          item.shim.style.display = '';\n        } else {\n          removeClass(item.element, 'is-sticky');\n          item.shim.style.display = 'none';\n        }\n      });\n    };\n\n    if (elements) {\n      calcite.addEvent(window, 'scroll', scrollHandler);\n      calcite.addEvent(window, 'resize', resize);\n    }\n  };\n\n  // ┌───────────┐\n  // │ Third Nav │\n  // └───────────┘\n  // sticks things to the window\n  calcite.thirdNav = function (domNode) {\n    var nav = findElements('.js-nav-overflow', domNode)[0];\n    var leftBtn = findElements('.js-overflow-left', domNode)[0];\n    var rightBtn = findElements('.js-overflow-right', domNode)[0];\n\n    function scroll (distance) {\n      nav.scrollLeft += distance;\n    }\n\n    function resize () {\n      calcite.removeClass(leftBtn, 'is-active');\n      calcite.removeClass(rightBtn, 'is-active');\n      if (nav.scrollLeft > 0) calcite.addClass(leftBtn, 'is-active');\n      if (nav.scrollLeft + nav.clientWidth + 5 < nav.scrollWidth) calcite.addClass(rightBtn, 'is-active');\n    }\n\n    if (nav) {\n      calcite.addEvent(leftBtn, calcite.click(), scroll.bind(null, -40));\n      calcite.addEvent(rightBtn, calcite.click(), scroll.bind(null, 40));\n      calcite.addEvent(nav, 'scroll', resize);\n      calcite.addEvent(window, 'resize', resize);\n      resize();\n    }\n  };\n\n  // ┌─────────────┐\n  // │ Filter List │\n  // └─────────────┘\n  // Used for filtering lists\n  calcite.filterList = function (value, items) {\n    var results = items.filter(function (item) {\n        var val = value.toLowerCase();\n        var t = item.innerHTML.toLowerCase();\n        return t.includes(val);\n    });\n    return results;\n  };\n\n  // ┌─────────────────┐\n  // │ Filter Dropdown │\n  // └─────────────────┘\n  // Component used to select any number of things from an array of any number of things\n\n  calcite.filterDropdown = function (domNode) {\n    var context = domNode || document;\n    var dropdowns = nodeListToArray(context.querySelectorAll('.js-filter-dropdown'));\n\n    dropdowns.forEach(function (dropdown) {\n      var container = dropdown.querySelector('.filter-dropdown-container');\n      var list = dropdown.querySelector('.filter-dropdown-list');\n      var input = dropdown.querySelector('.filter-dropdown-input');\n      var clearButton = dropdown.querySelector('.filter-dropdown-clear');\n      var items = dropdown.querySelectorAll('.filter-dropdown-link');\n\n      list.setAttribute('aria-expanded', false);\n\n      for (i = 0; i < items.length; i++) {\n        var item = items[i];\n        item.setAttribute('data-item-id', i);\n        addEvent(item, 'click', toggleItem);\n      }\n\n      function showActive() {\n        var activeItems = dropdown.querySelectorAll('.filter-dropdown-active');\n\n        for (i = 0; i < activeItems.length; i++) {\n          var activeItem = activeItems[i];\n          activeItem.parentNode.removeChild(activeItem);\n        }\n\n        for (i = 0; i < items.length; i++) {\n          var item = items[i];\n          if (hasClass(item, 'is-active')) {\n            var template = '<span class=\"filter-dropdown-active\">' + item.innerHTML  + '<a class=\"filter-dropdown-remove\" href=\"#\" data-item-id='+ [i] +'></a></span>';\n            container.insertAdjacentHTML('afterend', template);\n          }\n        }\n\n        activeItems = dropdown.querySelectorAll('.filter-dropdown-active');\n\n        for (i = 0; i < activeItems.length; i++) {\n          var closeButton = activeItems[i].querySelector('.filter-dropdown-remove');\n          addEvent(closeButton, 'click', clearItem);\n        }\n      }\n\n      function clearAllItems (e) {\n        if (e) e.preventDefault();\n        for (i = 0; i < items.length; i++) {\n          var item = items[i];\n          if (hasClass(item, 'is-active')) removeClass(item, 'is-active');\n        }\n        showActive();\n      }\n\n      function clearItem (e) {\n        e.preventDefault();\n        var targetId = e.target.getAttribute('data-item-id');\n        removeClass(items[targetId], 'is-active');\n        showActive();\n      }\n\n      function openDropdown (e) {\n        list.setAttribute('aria-expanded', true);\n        addClass(list, 'is-active');\n        addEvent(document.body, 'click', setDropdown);\n        console.log('open the thingy')\n      }\n\n      function setDropdown (e) {\n        addEvent(document.body, 'click', closeDropdown);\n        addEvent(input, 'keyup', escapeCloseDropdown);\n      }\n\n      function escapeCloseDropdown (e) {\n        if (e.keyCode == 27) {\n          closeDropdown();\n        }\n      }\n\n      function closeDropdown (e) {\n        removeEvent(document.body, 'click', setDropdown);\n        removeEvent(input, 'keyup', escapeCloseDropdown);\n        removeEvent(document.body, 'click', closeDropdown);\n        list.setAttribute('aria-expanded', false);\n        removeClass(list, 'is-active');\n      }\n\n      function toggleItem (e) {\n        e.preventDefault();\n        toggleClass(e.target, 'is-active');\n        showActive();\n      }\n\n      addEvent(input, 'keyup', function(e) {\n        var itemsArray = nodeListToArray(items);\n        itemsArray.forEach(function(item) {\n          addClass(item, 'is-hidden');\n        });\n\n        calcite.filterList(input.value, itemsArray).forEach(function(item) {\n          removeClass(item, 'is-hidden');\n        });\n      });\n\n      container.addEventListener('focusin', openDropdown, true);\n      if (clearButton) {\n        addEvent(clearButton, 'click', clearAllItems);\n      }\n      showActive();\n    });\n  };\n\n  // ┌────────────────────┐\n  // │ Initialize Calcite │\n  // └────────────────────┘\n  // start up Calcite and attach all the patterns\n  // optionally pass an array of patterns you'd like to watch\n  function init (patterns) {\n    patterns = patterns || ['sticky', 'accordion', 'dropdown', 'drawer', 'expandingNav', 'modal', 'tabs', 'siteSearch', 'thirdNav', 'filterDropdown'];\n    patterns.forEach(function (pattern) {\n      calcite[pattern]();\n    });\n  }\n\n  // ┌────────────────┐\n  // │ Expose Calcite │\n  // └────────────────┘\n  // make calcite available to amd, common-js, or globally\n  if (typeof define === 'function' && define.amd) {\n    define(function () { return calcite; });\n  } else if (typeof exports === 'object') {\n    module.exports = calcite;\n  } else {\n    // if something called calcite already exists,\n    // save it for recovery via calcite.noConflict()\n    var oldCalcite = window.calcite;\n    calcite.noConflict = function () {\n      window.calcite = oldCalcite;\n      return this;\n    };\n    window.calcite = calcite;\n  }\n\n})();\n"
  ]
}