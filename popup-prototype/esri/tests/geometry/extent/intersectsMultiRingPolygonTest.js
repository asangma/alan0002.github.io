dojo.provide("esri.tests.geometry.extent.intersectsMultiRingPolygonTest");

dojo.require("esri.geometry");

var extent;
doh.registerGroup("geometry.extent.intersectsMultiRingPolygonTest", [{
    name: "AllWithinExtent",
    timeout: 5000,
    runTest: function(t){
        var ring1 = [[-130.0967638868197, 48.61478194770846], [-125.15046774250993, 48.61478194770846], [-127.97692268211551, 44.19844610457473], [-129.92011045309437, 48.43812851398311], [-130.0967638868197, 48.61478194770846]];
        var ring2 = [[-124.26720057388319, 37.48561562301147], [-115.61118232134109, 37.48561562301147], [-116.14114262251714, 30.77278514144821], [-124.26720057388319, 37.48561562301147], [-124.26720057388319, 37.48561562301147]];
        var ring3 = [[-107.83843123742572, 35.89573471948333], [-97.23922521390479, 35.89573471948333], [-97.59253208135549, 24.94322182851169], [-107.48512436997503, 35.89573471948333], [-107.83843123742572, 35.89573471948333]];
        var polygon = new esri.geometry.Polygon(new esri.SpatialReference({
            wkid: 4326
        }));
        polygon.addRing(ring1);
        polygon.addRing(ring2);
        polygon.addRing(ring3);
        
        t.assertTrue(extent.intersects(polygon));
        
    }
}, {
    name: "onePolygonCrossExtentLine",
    timeout: 5000,
    runTest: function(t){
        var ring1 = [[-107.83843123742572, 35.89573471948333], [-97.23922521390479, 35.89573471948333], [-97.59253208135549, 24.94322182851169], [-107.48512436997503, 35.89573471948333], [-107.83843123742572, 35.89573471948333]];
        var ring2 = [[-85.93340545548244, 59.74394827240545], [-68.7980223841236, 59.920601706130796], [-70.21124985392639, 45.25836670692682], [-85.75675202175711, 59.74394827240545], [-85.93340545548244, 59.74394827240545]];
        var ring3 = [[-56.255628589623825, 42.961872068497286], [-41.59339359041985, 42.961872068497286], [-44.2431950963001, 27.946330201842628], [-55.90232172217313, 42.961872068497286], [-56.255628589623825, 42.961872068497286]];
        var polygon = new esri.geometry.Polygon(new esri.SpatialReference({
            wkid: 4326
        }));
        polygon.addRing(ring1);
        polygon.addRing(ring2);
        polygon.addRing(ring3);
        
        t.assertTrue(extent.intersects(polygon));
        
    }
}, {
    name: "allOutSideExtent",
    timeout: 5000,
    runTest: function(t){
        var ring1 = [[-158.36131328287556, 42.43191176732124], [-147.40880039190392, 42.78521863477194], [-149.5286415966081, 33.069279779877746], [-158.1846598491502, 42.60856520104659], [-158.36131328287556, 42.43191176732124]];
        var ring2 = [[-154.12163087346718, 64.51359098298987], [-142.81581111504482, 64.51359098298987], [-142.9924645487702, 51.44123688731404], [-153.76832400601648, 64.51359098298987], [-154.12163087346718, 64.51359098298987]];
        var ring3 = [[-50.0727584092366, 20.880192852828664], [-28.8743463621947, 21.23349972027936], [-34.88056310885659, 9.927679961857024], [-49.7194515417859, 20.526885985377966], [-50.0727584092366, 20.880192852828664]];
        var polygon = new esri.geometry.Polygon(new esri.SpatialReference({
            wkid: 4326
        }));
        polygon.addRing(ring1);
        polygon.addRing(ring2);
        polygon.addRing(ring3);
        
        t.assertFalse(extent.intersects(polygon));
        
    }
}, ], function()//setUp()
{
    extent = new esri.geometry.Extent(-133.27652569387598, 9.927679961857024, -61.201924733933595, 53.914384959468926, new esri.SpatialReference({
        wkid: 4326
    }));
    
    
}, function()//tearDown
{
    extent = null;
    
});

