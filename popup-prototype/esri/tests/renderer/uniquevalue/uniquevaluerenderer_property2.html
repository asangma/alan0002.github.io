<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Feature Type</title>

    <link rel="stylesheet" type="text/css" href="../../../../dojo/dijit/themes/tundra/tundra.css">
    <script type="text/javascript" src="../../../../dojo/dojo/dojo.js" djConfig="isDebug:true"></script>
    <script type="text/javascript" src="../../../esri.js"></script>
    <script type="text/javascript" src="../../../jsapi.js"></script>
    
    <script type="text/javascript">
      dojo.require("esri.layers.FeatureLayer");
	   dojo.require("esri.symbol");
	   dojo.require("esri.layers.FeatureLayer");

      	   dojo.require("doh.runner");
      
      function init() {
         var featureLayer =  new esri.layers.FeatureLayer("http://sampleserver3.arcgisonline.com/ArcGIS/rest/services/Earthquakes/RecentEarthquakesRendered/MapServer/0", {
          mode: esri.layers.FeatureLayer.MODE_ONDEMAND,
          outFields: ["*"],
          id: "landuseLayer"
        });
        if (featureLayer.loaded) {
          runTests(featureLayer);
        }
        else {
          dojo.connect(featureLayer, "onLoad", runTests);
        }
      }
      
      function runTests(featureLayer) {
        doh.registerGroup("renderer.uniquevalue.uniquevaluerenderer_property2", [
     		  
		  {
            name: "uniquevaluerenderer_property2",
            timeout: 50,
            runTest: function(t) {
			
			var renderer = featureLayer.renderer;
			t.assertEqual("time_elapsed",renderer.attributeField);
			t.assertEqual("classed_magnitude",renderer.attributeField2);
			
			t.assertEqual(null,renderer.attributeField3);
			t.assertEqual("<all other values>",renderer.defaultLabel);
			t.assertEqual(", ",renderer.fieldDelimiter);
			t.assertEqual("1 hour, < 2",renderer.infos[0].value);
			t.assertEqual("picturemarkersymbol",renderer.infos[0].symbol.type);
			
			//t.assertEqual("http://sampleserver3b.arcgisonline.com/arcgisoutput/Earthquakes_RecentEarthquakesRendered_MapServer/Layers_0_Recent_Earthquakes_Sym_0_1_hour,___2.png",renderer.infos[0].symbol.url);
			t.assertEqual(7,renderer.infos[0].symbol.height);
			t.assertEqual(6,renderer.infos[0].symbol.width);
			
			t.assertEqual("1 hour, < 2",renderer.infos[0].label);
			t.assertEqual("",renderer.infos[0].description);
			
			             
            }
          }
        ]);
        doh.run();
      }
      
      dojo.addOnLoad(init);
    </script>

  </head>
  <body class="tundra">
  </body>
</html>