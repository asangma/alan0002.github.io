<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=7,IE=9" />
    <meta name="viewport" content="initial-scale=1, maximum-scale=1,user-scalable=no"/>
    <title>Create Map</title>

    <!--link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.2/js/dojo/dijit/themes/claro/claro.css">
    <link rel="stylesheet" type="text/css" href="http://serverapi.arcgisonline.com/jsapi/arcgis/3.2/js/esri/css/esri.css" />
    <script type="text/javascript" src="http://serverapi.arcgisonline.com/jsapi/arcgis/?v=3.2">
    </script-->

    <link rel="stylesheet" type="text/css" href="http://jsmatrix/jsapi/arcgis/daily/js/dojo/dijit/themes/claro/claro.css">
    <link rel="stylesheet" type="text/css" href="http://jsmatrix/jsapi/arcgis/daily/js/esri/css/esri.css" />
    <script>
        var dojoConfig = {
            isDebug: true,
            parseOnLoad: false,
            has: {
                "dojo-debug-messages": false
            },
            packages: [
                { name: "esri", location: "../../esri" }
            ]
        };
    </script>
    <script type="text/javascript" src="http://jsmatrix/jsapi/arcgis/daily">
    </script>


    <script type="text/javascript">
        dojo.require("esri.map");
        dojo.require("esri.layers.osm");

        var map, tiled, dynamic;

        function init() {
            var initialExtent = new esri.geometry.Extent({
                "xmin":244598,"ymin":6241389,
                "xmax":278995,"ymax":6264320,
                "spatialReference":{"wkid":102100}
            });

            var center = initialExtent.getCenter();

            map = new esri.Map("map",{
                //extent: initialExtent,
                center: center,
                //center: [center.getLongitude(), center.getLatitude()],
                //zoom: 6,
                //scale: 9244648.868618, // zoom = 6
                basemap: "streets",
                //minScale: 296828763.795777, // 1
                //maxScale: 37078595.474472, // 3
                //minZoom: 10,
                //maxZoom: 15,
                fh: 1
            });

            dojo.connect(map, "onLoad", function() {
                console.log("--------------------");
                console.log("getMinZoom: ", map.getMinZoom());
                console.log("getMaxZoom: ", map.getMaxZoom());
                console.log("getMinScale: ", map.getMinScale());
                console.log("getMaxScale: ", map.getMaxScale());
                console.log("--------------------");
                console.log("zoom: ", map.getZoom());
                console.log("scale: ", map.getScale());
                console.log("--------------------");
            });

            dojo.connect(map, "onExtentChange", function() {
                console.log("onExtentChange: ", this.extent && dojo.toJson(this.extent.toJson()));
                console.log("onExtentChange: ", this.geographicExtent && dojo.toJson(this.geographicExtent.toJson()));
            });

            dojo.connect(map, "onBasemapChange", function() {
                console.log("onBasemapChange: ", this.getBasemap(), this.basemapLayerIds, this.layerIds);
            });


        }

        dojo.addOnLoad(init);
    </script>
</head>
<body class="claro">
<div id="map" style="width:900px; height:600px; border:1px solid #000;"></div>
</body>
</html>
